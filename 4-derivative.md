---
layout: default
title: 导数与微分
sort_order: 1
is_note: true
---

## 定义

一个点可微分，就是说对于函数 $f(x)$ 的 $f(x_0)$ ，存在一个函数 $g(x)$，满足

$$
df(x_0)=dxg(x_0)+o(dx)
$$

可导就是

$$
f'(x_0)=\lim_{d\to 0}\frac{f(x+d)-f(x)}{d}
$$

不难发现两者等价。

各种求导公式和四则运算啥的都会，背下来就行。

## 隐函数求导

实际上就是一个两边同时求导的 trick。

>$$
>e^{xy}+x^2y-1=0
>$$
>
>求 $\dfrac{\text{d}y}{\text{d}x}$

注意 $y$ 会跟着 $x$ 变，所以可以把 $y$ 看成 $f(x)$，然后左右同时求导即可。

$$
e^{xy}(y+xy')+2xy+x^2y'=0\\
y'=\frac{-ye^{xy}-2xy}{x^2+xe^{xy}}
$$

## 对数求导法

$$
(\ln f(x))'=\frac{f'(x)}{f(x)}\\
f'(x)=(\ln f(x))'f(x)
$$

如果 $f$ 形如 $x^x$ 就可以直接这样搞。

## 反函数求导

$f(x)=y,f^{-1}(y)=x$，求 $[f^{-1}(y)]'$。

$$
f(x)=y\\
f'(x)[f^{-1}(y)]'=1\\
[f^{-1}(y)]'=\frac{1}{f'(x)}
$$

注意到这里的求导，是以 $y$ 为主元。

## 微分以及高阶微分

重新审视一下微分算子 $\text{d}$，我们需要如何规范的认知它。

首先我们需要确定一个**自变量**，比如 $x$，那么 $\text{d}x$ 在我们的计算中**是一个无穷小量的常数**，而别的变量比如 $\text{d}y,\text{d}u$ 都是因变量，它们的值会因为 $x$ 的不同而变化。

前面的求导中我们认识了重要关系 $\text{d}y=f'(x)\text{d}x$，在此基础上我们推导了链式法则：

$$
y=f(x),x=g(u)\\
\frac{dy}{du}=\frac{dy}{dx}\frac{dx}{du}=f'(x)g'(u)
$$

其实这个约掉不是特别能理解，可以换一个写法：

$$
dx=g'(u)du,dy=f'(x)dx\\
dy=f'(x)g'(u)du
$$

其实就是一个很简单的代换，这个称为微分的一阶不变性，也就是一阶运算里由于都只有一个微分算子，所以可以任意代换，也就是分子分母约掉是可行的。

然后来看高阶微分，比如二阶，我们要求的其实是求导再求导，也就是要求一个 $d(dy)$。

$$
d(dy)=d(f'(x)dx)\\
=(f''(x)dx)dx+f'(x)d(dx)
$$

如果我们选取的自变量是 $x$，由于 $dx$ 是常数，那么 $d(dx)$ 就是 $0$ ，我们也因此很容易得到二阶导数的微分表达

$$
f''(x)=\frac{d^2y}{dx^2}
$$

但是如果 $x$ 不是自变量，如果 $u$ 是自变量，$x=g(u)$，那么此时 $d(dx)$ 就是有值的。

$$
d(dy)=(f''(x)dx)dx+f'(x)d(dx)\\
=f''(x)dx^2+f'(x)d^2x=d^2y
$$

这个东西代表啥含义呢，也就是二阶不能直接用链式法则了，因为 $dx^2,d^2x$ 约不掉，会有一项多出来。

---

可以用微分来理解反函数求导。

因为是对于 $y$ 微分，根据定义：

$$
dx=[f^{-1}(y)]'dy\\
dy=f'(x)dx\\
[f^{-1}(y)]'=\frac{dx}{dy}=\frac{1}{\frac{dy}{dx}}=\frac{1}{f'(x)}
$$

然后我们求 $\dfrac{d^2x}{dy^2}$。

求这种题，一般好的做法是考虑用链式法则去拆。

注意关键条件，链式法则中间项必须要是一次项，次数高了会寄。

$$
\dfrac{d^2x}{dy^2}=\frac{d(\frac{dx}{dy})}{dy}=\frac{d(\frac{1}{y'})}{dy}\\
=\frac{d(\frac{1}{y'})}{d y'}\frac{dy'}{dx}\frac{dx}{dy}=\frac{y''}{(y')^3}
$$

注意 $\dfrac{dy'}{dy}$ 做不了，因为上面是关于 $x$ 求导的东西，需要用 $x$ 作为媒介。

因为 $y',x$ 都可以看成普通的和 $x$ 有关的中间变量，所以可以链式法则展开，但如果是 $(dx)^2$ 这种，就不能链式法则：
  
$$
\frac{d^2y}{du^2}\ne \frac{d^2y}{dx^2}(\frac{dx}{du})^2
$$

然后推导一下 $\dfrac{d^3x}{dy^3}$。

$$
\dfrac{d^3x}{dy^3}=\frac{d(\frac{y''}{(y')^3})}{dy}\\
=\frac{y''d((y')^3)-d(y'')(y')^3}{(y')^6dy}\\
\frac{d((y')^3)}{dy}=\frac{d((y')^3)}{dy'}\frac{dy'}{dx}\frac{dx}{dy}=3y'\times y''\\
\frac{d(y'')}{dy}=\frac{d(y'')}{dx}\frac{dx}{dy}=\frac{y'''}{y'}\\
ans=\frac{3(y'')^2}{(y')^5}-\frac{y'''}{(y')^4}=\frac{3(y'')^2-y'''y'}{(y')^5}
$$